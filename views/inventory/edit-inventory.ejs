<h1><%= title %></h1>

<%- messages() %>

<% if (locals.errors) { %>
  <ul class="notice">
    <% errors.array().forEach(error => { %>
      <li><%= error.msg %></li>
    <% }) %>
  </ul>
<% } %>

<form action="/inv/update" method="post" id="updateForm">
  
  <label for="classification_id">Classification:</label>
  <%- classificationSelect %>

  <label for="inv_make">Make:</label>
  <input 
    type="text" 
    id="inv_make" 
    name="inv_make" 
    required
    minlength="3"
    placeholder="Enter vehicle make"
    <% if (locals.inv_make) { %>value="<%= inv_make %>"<% } %>
  >

  <label for="inv_model">Model:</label>
  <input 
    type="text" 
    id="inv_model" 
    name="inv_model" 
    required
    minlength="3"
    placeholder="Enter vehicle model"
    <% if (locals.inv_model) { %>value="<%= inv_model %>"<% } %>
  >

  <label for="inv_year">Year:</label>
  <input 
    type="number" 
    id="inv_year" 
    name="inv_year" 
    required
    min="1900"
    max="2099"
    placeholder="Enter year (e.g., 2024)"
    <% if (locals.inv_year) { %>value="<%= inv_year %>"<% } %>
  >

  <label for="inv_description">Description:</label>
  <textarea 
    id="inv_description" 
    name="inv_description" 
    required
    rows="4"
    placeholder="Enter vehicle description"
  ><% if (locals.inv_description) { %><%= inv_description %><% } %></textarea>

  <label for="inv_image">Image Path:</label>
  <input 
    type="text" 
    id="inv_image" 
    name="inv_image" 
    required
    placeholder="/images/vehicles/no-image.png"
    <% if (locals.inv_image) { %>value="<%= inv_image %>"<% } %>
  >

  <label for="inv_thumbnail">Thumbnail Path:</label>
  <input 
    type="text" 
    id="inv_thumbnail" 
    name="inv_thumbnail" 
    required
    placeholder="/images/vehicles/no-image-tn.png"
    <% if (locals.inv_thumbnail) { %>value="<%= inv_thumbnail %>"<% } %>
  >

  <label for="inv_price">Price:</label>
  <input 
    type="number" 
    id="inv_price" 
    name="inv_price" 
    required
    min="0"
    step="0.01"
    placeholder="Enter price"
    <% if (locals.inv_price) { %>value="<%= inv_price %>"<% } %>
  >

  <label for="inv_miles">Miles:</label>
  <input 
    type="number" 
    id="inv_miles" 
    name="inv_miles" 
    required
    min="0"
    placeholder="Enter mileage"
    <% if (locals.inv_miles) { %>value="<%= inv_miles %>"<% } %>
  >

  <label for="inv_color">Color:</label>
  <input 
    type="text" 
    id="inv_color" 
    name="inv_color" 
    required
    placeholder="Enter color"
    <% if (locals.inv_color) { %>value="<%= inv_color %>"<% } %>
  >

  <button type="submit" disabled>Update Vehicle</button>

  <input type="hidden" name="inv_id"
  <% if(locals.inv_id) { %> value="<%= locals.inv_id %>"
  <% } %>>
</form>

<p><a href="/inv/">Back to Management</a></p>

<script src="../../js/inv-update.js"></script>
